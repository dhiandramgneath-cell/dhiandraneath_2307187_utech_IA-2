<!-- Dhi-Andra Neath 2307187 IA# 2 Eccomerce Website 21/11/2025 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link rel="icon" type="image/jpg" href="../Assets/buisnesslogo.jpg">

    <title>Montego Beauty</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Italiana&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">

    <!-- External CSS -->
    <link rel="stylesheet" href="../style.css">
</head>

<body>

    <!-- Header Section -->
    <header class="main-header bounce-in">
        <img src="../Assets/logo.png" alt="Logo" style="width:200px; height:200px;">
        <h1>Montego Beauty</h1>

        <!-- Navigation Bar -->
        <nav class="navbar">
            <ul>
                <li><a href="Home.html">Home</a></li>
                <li><a href="AboutUs.html">About Us</a></li>
                <li><a href="Cart.html">Cart</a></li>
                <li><a href="Invoice.html" class="active">Invoice</a></li>
                <li><a href="Checkout.html">Checkout</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="invoice-container pop-up">

        <!-- Invoice Header -->
        <div class="invoice-header">
            <h1>Invoice</h1>
            <p>Date: 21-Nov-2025</p>
            <p>Invoice #: 000123</p>
        </div>

        <!-- Customer Details -->
        <div class="invoice-details">
            <p><strong>Customer Name:</strong> Jane Doe</p>
            <p><strong>Email:</strong> jane@example.com</p>
        </div>

        <!-- Invoice Table -->
        <table>
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                <!-- Products will be populated dynamically using JS -->
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">Subtotal</td>
                    <td>$0.00</td>
                </tr>
                <tr>
                    <td colspan="3">Tax (5%)</td>
                    <td>$0.00</td>
                </tr>
                <tr class="total-row">
                    <td colspan="3">Total</td>
                    <td>$0.00</td>
                </tr>
            </tfoot>
        </table>

        <!-- Proceed to Checkout Button -->
        <a href="../Codes/Checkout.html">
            <button class="cart-checkout-button">Proceed To CheckOut</button>
        </a>
    </main>

    <!-- Footer Section -->
    <footer class="footer">
         &copy; 2025 Montego Beauty | All Rights Reserved |
    </footer>

    <!-- JavaScript Section -->
    <script>
    // IA#2: DOM Manipulation
    document.addEventListener('DOMContentLoaded', () => {
        const invoiceTableBody = document.querySelector('table tbody');
        const tfootRows = document.querySelectorAll('tfoot td:last-child');
        const cart = JSON.parse(sessionStorage.getItem('cart')) || [];

        // Clear existing rows
        invoiceTableBody.innerHTML = '';

        let subtotal = 0;

        // Populate table rows dynamically
        cart.forEach(item => {
            const quantity = item.quantity || 1;
            const row = document.createElement('tr');

            const productCell = document.createElement('td');
            productCell.textContent = item.product || 'Unknown Product';

            const priceCell = document.createElement('td');
            priceCell.textContent = `$${(item.price || 0).toFixed(2)}`;

            const quantityCell = document.createElement('td');
            quantityCell.textContent = quantity;

            const subtotalCell = document.createElement('td');
            subtotalCell.textContent = `$${((item.price || 0) * quantity).toFixed(2)}`;

            row.append(productCell, priceCell, quantityCell, subtotalCell);
            invoiceTableBody.appendChild(row);

            subtotal += (item.price || 0) * quantity;
        });

        // Calculate tax and total
        const tax = subtotal * 0.05;
        const total = subtotal + tax;

        // Update tfoot dynamically, if they exist
        if (tfootRows.length >= 3) {
            tfootRows[0].textContent = `$${subtotal.toFixed(2)}`; // Subtotal
            tfootRows[1].textContent = `$${tax.toFixed(2)}`;      // Tax
            tfootRows[2].textContent = `$${total.toFixed(2)}`;    // Total
        }
    });
</script>


</body>
</html>
